# Callbacks configuration
model_checkpoint:
  _target_: src.core.callbacks.ModelCheckpoint
  dirpath: ${paths.log_dir}/${model.name}/${experiment_name}/checkpoints
  filename: "epoch_{epoch:03d}"
  monitor: "val/loss"
  mode: "min"
  save_last: true
  save_top_k: 1
  verbose: true

early_stopping:
  _target_: src.core.callbacks.EarlyStopping
  monitor: "val/loss"
  patience: 5
  mode: "min"
  min_delta: 0.01
  verbose: true

rich_progress_bar:
  _target_: src.core.callbacks.RichProgressBar
  refresh_rate: 30
  metric_modes:
    train/loss: "min"
    val/loss: "min"
    train/perplexity: "min"
    val/perplexity: "min"
    train/acc: "max"
    val/acc: "max"
